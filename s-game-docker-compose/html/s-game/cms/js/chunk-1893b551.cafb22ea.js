(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1893b551","chunk-4e9065f4","chunk-f2e52c62","chunk-2d0d09e9","chunk-2d0cc813"],{1105:function(e,t,a){},2108:function(e,t,a){"use strict";var i=a("314e"),n=a.n(i);n.a},"314e":function(e,t,a){},"3fb55":function(e,t,a){"use strict";var i=a("1105"),n=a.n(i);n.a},"44b0":function(e,t,a){"use strict";var i=a("4df2"),n=a.n(i);n.a},"4de2":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return p});var i=a("a34a"),n=a.n(i),r=a("dfd8");function l(e,t,a,i,n,r,l){try{var c=e[r](l),o=c.value}catch(s){return void a(s)}c.done?t(o):Promise.resolve(o).then(i,n)}function c(e){return function(){var t=this,a=arguments;return new Promise(function(i,n){var r=e.apply(t,a);function c(e){l(r,i,n,c,o,"next",e)}function o(e){l(r,i,n,c,o,"throw",e)}c(void 0)})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var p=function(){function e(t){o(this,e),d(this,"router_type",null),this.router_type=t}return u(e,null,[{key:"getPublicInformation",value:function(){var t=c(n.a.mark(function t(){var a;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["get"])("public-information");case 2:return a=t.sent,a.router_type.forEach(function(e){if(e.navInfo=[],e.child_types){var t=e.child_types.split("*");t.forEach(function(t){var a={},i=t.split("|");if(1===i.length){var n=i[0].split("&");2===n.length&&(a.titleName=n[0],a.titleRouter=n[1])}else a.titleRouter=null,a.childNav=[],i.forEach(function(e){var t=e.split("&");1===t.length?a.titleName=t[0]:2===t.length&&a.childNav.push({titleName:t[0],titleRouter:t[1]})});e.navInfo.push(a)})}}),console.log("routerInfo",a.router_type),t.abrupt("return",new e(a.router_type));case 6:case"end":return t.stop()}},t)}));function a(){return t.apply(this,arguments)}return a}()}]),e}()},"4df2":function(e,t,a){},"696f":function(e,t,a){"use strict";a.r(t);var i=a("a34a"),n=a.n(i),r=a("dfd8");function l(e,t,a,i,n,r,l){try{var c=e[r](l),o=c.value}catch(s){return void a(s)}c.done?t(o):Promise.resolve(o).then(i,n)}function c(e){return function(){var t=this,a=arguments;return new Promise(function(i,n){var r=e.apply(t,a);function c(e){l(r,i,n,c,o,"next",e)}function o(e){l(r,i,n,c,o,"throw",e)}c(void 0)})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}var d=function(){function e(){o(this,e)}return u(e,[{key:"addArticle",value:function(){var e=c(n.a.mark(function e(t){var a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["post"])("article",t,{handleError:!0});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getArticle",value:function(){var e=c(n.a.mark(function e(t){var a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["get"])("article/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"editArticle",value:function(){var e=c(n.a.mark(function e(t,a){var i;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["put"])("article/".concat(t),a);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"recoverArticle",value:function(){var e=c(n.a.mark(function e(t){var a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["put"])("article/recover",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteArticle",value:function(){var e=c(n.a.mark(function e(t,a){var i;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["_delete"])("article/".concat(t),a);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getArticles",value:function(){var e=c(n.a.mark(function e(t){var a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["get"])("article",t,{handleError:!0});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=new d},"6d4a":function(e,t,a){"use strict";var i=a("84f0"),n=a.n(i);n.a},"84f0":function(e,t,a){},"8eab":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lin-search"},[a("el-input",{staticClass:"input-with-select",attrs:{size:"medium",placeholder:e.placeholder,clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleClick},slot:"append"})],1)],1)},n=[],r=a("306b"),l={props:{placeholder:{type:String,default:"请输入内容"}},data:function(){return{keyword:""}},created:function(){var e=this;this.$watch("keyword",r["default"].debounce(function(t){e.$emit("query",t)},1e3))},methods:{clear:function(){this.keyword=""},handleClick:function(){this.$emit("click")}}},c=l,o=(a("3fb55"),a("2877")),s=Object(o["a"])(c,i,n,!1,null,"58a2f5b2",null);t["default"]=s.exports},"93ae":function(e,t,a){},b0e7:function(e,t,a){"use strict";var i=a("93ae"),n=a.n(i);n.a},c2fa:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"wrap"},[a("el-row",[a("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[a("el-form",{ref:"articleDate",attrs:{model:e.articleDate,"status-icon":"","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{id:"article-select-container"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前编辑文章所属网页分类，必选项",placement:"top"}},[a("Span",[e._v("文章类型")])],1),a("div",{staticClass:"select-first"},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"medium",filterable:"",placeholder:"请选择主类型"},on:{change:e.changeArticleMainType},model:{value:e.selectMainTypeIndex,callback:function(t){e.selectMainTypeIndex=t},expression:"selectMainTypeIndex"}},e._l(e.articleTypeDate,function(t,i){return t.child_types?a("el-option",{key:t.tab_name,attrs:{label:t.tab_name,value:i}}):e._e()}),1)],1),a("div",{staticClass:"article-select-second"},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"medium",filterable:"",placeholder:"请选择子类型"},on:{change:e.changeArticleChildType},model:{value:e.selectChildTypeRouter,callback:function(t){e.selectChildTypeRouter=t},expression:"selectChildTypeRouter"}},e._l(e.articleTypeDate[e.selectMainTypeIndex].navInfo,function(t){return a("el-option-group",{key:t.titleName,attrs:{label:t.titleName}},[e._l(t.childNav,function(i){return t.childNav?a("el-option",{key:i.titleName,attrs:{label:i.titleName,value:i.titleRouter}}):e._e()}),t.childNav?e._e():a("el-option",{key:t.titleName,attrs:{label:t.titleName,value:t.titleRouter}})],2)}),1)],1)],1),a("el-form-item",{attrs:{id:"article-title-container"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前编辑文章标题",placement:"top"}},[a("Span",[e._v("文章标题")])],1),a("el-input",{attrs:{size:"medium",placeholder:"请填写文章标题"},model:{value:e.articleDate.title,callback:function(t){e.$set(e.articleDate,"title",t)},expression:"articleDate.title"}})],1),a("el-form-item",{attrs:{id:"article-describe-container"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章描述，请尽量精简，网页上若出现显示不全情况，自行斟酌控制长度",placement:"top"}},[a("Span",[e._v("简介")])],1),a("el-input",{attrs:{size:"medium",type:"textarea",autosize:{minRows:1,maxRows:8},placeholder:"请填写文章简介"},model:{value:e.articleDate.article_describe,callback:function(t){e.$set(e.articleDate,"article_describe",t)},expression:"articleDate.article_describe"}})],1),a("el-form-item",{attrs:{id:"article-image-container"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章封面url，默认分辨率250x170，必填项",placement:"top"}},[a("Span",[e._v("封面")])],1),a("el-input",{attrs:{size:"medium",placeholder:"请填写文章封面图地址"},model:{value:e.articleDate.cover_image_url,callback:function(t){e.$set(e.articleDate,"cover_image_url",t)},expression:"articleDate.cover_image_url"}})],1),a("el-form-item",{attrs:{id:"article-head-bg-container"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章标题底背景url，默认分辨率1920x300，或者填写背景渐变样式，格式为‘to left, rgba(115,104,118,.9) 0%, rgba(17,11,15,.9) 80%’必填项",placement:"top"}},[a("Span",[e._v("头部背景/样式")])],1),a("el-input",{attrs:{size:"medium",placeholder:"请填写文章头部背景地址"},model:{value:e.articleDate.head_bg_url,callback:function(t){e.$set(e.articleDate,"head_bg_url",t)},expression:"articleDate.head_bg_url"}})],1),a("el-form-item",{attrs:{id:"article-head-media-container"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章对应视频/音频/图集url,必填项,若为图集，格式为url+'&&'+'描述'+'|'",placement:"top"}},[a("Span",[e._v("头部媒体地址")])],1),a("el-input",{attrs:{size:"medium",placeholder:"请填写文章头部媒体地址"},model:{value:e.articleDate.head_media_url,callback:function(t){e.$set(e.articleDate,"head_media_url",t)},expression:"articleDate.head_media_url"}})],1),a("el-form-item",{attrs:{id:"article-head-param-container"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章标题底背景参数，可控制视频分辨率，或填写音频封面图url",placement:"top"}},[a("Span",[e._v("头部背景参数")])],1),a("el-input",{attrs:{size:"medium",placeholder:"请填写文章头部背景参数"},model:{value:e.articleDate.head_media_param,callback:function(t){e.$set(e.articleDate,"head_media_param",t)},expression:"articleDate.head_media_param"}})],1),a("el-form-item",{attrs:{id:"article-inform-container-1"}},[a("div",{attrs:{id:"inform-box-1"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章作者，不填网页默认显示‘佚名’",placement:"top"}},[a("Span",[e._v("作者")])],1),a("el-input",{attrs:{size:"medium"},model:{value:e.articleDate.author,callback:function(t){e.$set(e.articleDate,"author",t)},expression:"articleDate.author"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章关键词，每个词之间用'*'号间隔",placement:"top"}},[a("Span",[e._v("关键词")])],1),a("el-input",{attrs:{size:"medium"},model:{value:e.articleDate.keywords,callback:function(t){e.$set(e.articleDate,"keywords",t)},expression:"articleDate.keywords"}})],1)]),a("el-form-item",{attrs:{id:"article-inform-container-2"}},[a("div",{attrs:{id:"inform-box-2"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章点击量，每被访问一次都会在当前基础上+1，也可自己填",placement:"top"}},[a("Span",[e._v("点击量")])],1),a("el-input",{attrs:{size:"medium",type:"number"},model:{value:e.articleDate.hitcount,callback:function(t){e.$set(e.articleDate,"hitcount",t)},expression:"articleDate.hitcount"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章点赞量",placement:"top"}},[a("Span",[e._v("点赞量")])],1),a("el-input",{attrs:{size:"medium",type:"number"},model:{value:e.articleDate.likecount,callback:function(t){e.$set(e.articleDate,"likecount",t)},expression:"articleDate.likecount"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"当前文章评论量",placement:"top"}},[a("Span",[e._v("评论量")])],1),a("el-input",{attrs:{size:"medium",type:"number"},model:{value:e.articleDate.commentcount,callback:function(t){e.$set(e.articleDate,"commentcount",t)},expression:"articleDate.commentcount"}})],1)]),a("el-form-item",{attrs:{id:"article-inform-container-3"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"网站上文章banner的显示样式",placement:"top"}},[a("Span",[e._v("显示样式")])],1),a("el-select",{staticStyle:{width:"300px"},attrs:{size:"medium",filterable:"",placeholder:"请选择类型"},model:{value:e.articleDate.show_type,callback:function(t){e.$set(e.articleDate,"show_type",t)},expression:"articleDate.show_type"}},e._l(e.showTypeArray,function(e,t){return a("el-option",{key:e.type,attrs:{label:e.type,value:t}})}),1)],1),a("el-form-item",{attrs:{id:"article-inform-container-4"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"文章内容编辑器,视频文件只支持mp4格式，请在插入视频地址内写明文件格式后缀名",placement:"top"}},[a("Span",[e._v("文章内容")])],1),a("tinymce",{ref:"textEditor",attrs:{upload_url:"",defaultContent:e.articleDate.content},on:{change:e.changeContent}})],1),a("el-form-item",{staticClass:"submit"},[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.submitVisible,callback:function(t){e.submitVisible=t},expression:"submitVisible"}},[a("p",[e._v("确定保存到服务器吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.submitVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.submitVisible=!1,e.submitForm()}}},[e._v("确定\n                                ")])],1),a("el-button",{attrs:{slot:"reference",id:"submitBtn"},slot:"reference"},[e._v("保 存")])],1),a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.resetVisible,callback:function(t){e.resetVisible=t},expression:"resetVisible"}},[a("p",[e._v("确定重置已编辑内容吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.resetVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.resetVisible=!1,e.resetForm()}}},[e._v("确定\n                                ")])],1),a("el-button",{attrs:{slot:"reference",id:"resetBtn"},slot:"reference"},[e._v("重 置")])],1)],1)],1)],1)],1)],1)])},n=[],r=(a("696f"),a("a2fb")),l={components:{Tinymce:r["default"]},created:function(){},mounted:function(){this.resetUI()},props:{articleDate:{},articleTypeDate:{}},data:function(){return{selectMainTypeIndex:1,selectChildTypeRouter:this.articleTypeDate[1].navInfo[0].titleRouter,submitVisible:!1,resetVisible:!1,showTypeArray:[{type:"标准样式(封面+标题+描述+其他信息)"},{type:"简单样式(封面+标题+其他信息)"}]}},methods:{submitForm:function(){this.$emit("submitOnClick")},resetForm:function(){this.$emit("resetOnClick")},changeArticleMainType:function(e){this.selectMainTypeIndex=e,this.articleTypeDate[this.selectMainTypeIndex].navInfo[0],this.selectChildTypeRouter=this.articleTypeDate[this.selectMainTypeIndex].navInfo[0].titleRouter,this.articleDate.main_type=this.articleTypeDate[this.selectMainTypeIndex].router_name,this.articleDate.child_type=this.selectChildTypeRouter},changeArticleChildType:function(e){this.articleDate.child_type=e},changeContent:function(e){this.articleDate.content=e},resetUI:function(){var e=this,t=this.articleTypeDate.findIndex(function(t){return t.router_name===e.articleDate.main_type});t<0&&(t=1),this.selectMainTypeIndex=t,this.selectChildTypeRouter=this.articleDate.child_type,this.$refs.textEditor.resetContent()}}},c=l,o=(a("2108"),a("44b0"),a("2877")),s=Object(o["a"])(c,i,n,!1,null,"1be516f0",null);t["default"]=s.exports},cccf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableSample"},[a("div",{staticClass:"header"},[e._m(0),e.public_Router?a("div",{staticClass:"header-right"},[a("div",{staticClass:"select-first"},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"medium",filterable:"",placeholder:"请选择主类型"},on:{change:e.changeArticleMainType},model:{value:e.selectMainTypeIndex,callback:function(t){e.selectMainTypeIndex=t},expression:"selectMainTypeIndex"}},e._l(e.public_Router,function(t,i){return t.child_types?a("el-option",{key:t.tab_name,attrs:{label:t.tab_name,value:i}}):e._e()}),1)],1),a("div",{staticClass:"select-second"},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"medium",filterable:"",placeholder:"请选择子类型"},on:{change:e.changeArticleChildType},model:{value:e.selectChildTypeRouter,callback:function(t){e.selectChildTypeRouter=t},expression:"selectChildTypeRouter"}},e._l(e.public_Router[e.selectMainTypeIndex].navInfo,function(t){return a("el-option-group",{key:t.titleName,attrs:{label:t.titleName}},[e._l(t.childNav,function(i){return t.childNav?a("el-option",{key:i.titleName,attrs:{label:i.titleName,value:i.titleRouter}}):e._e()}),t.childNav?e._e():a("el-option",{key:t.titleName,attrs:{label:t.titleName,value:t.titleRouter}})],2)}),1)],1),a("div",{staticClass:"search-box"},[a("lin-search",{attrs:{placeholder:"请输入关键字"},on:{query:e.onQueryChange,click:e.onSearchClick}})],1),a("div",{staticStyle:{"margin-left":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible=!e.dialogTableVisible}}},[e._v("列操作")])],1)]):e._e()]),a("div",{staticClass:"table-main"},[a("el-dialog",{attrs:{top:"5vh",width:"60%",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("span",[e._v("选择要展示的列:")]),a("el-checkbox-group",{staticClass:"m-20",on:{change:e.handleChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.tempCheckList,function(e){return a("el-checkbox",{key:e,attrs:{disabled:"id"===e||"标题"===e,label:e}})}),1),a("span",[e._v("选择固定在左侧的列:")]),a("el-checkbox-group",{staticClass:"m-20",model:{value:e.fixedLeftList,callback:function(t){e.fixedLeftList=t},expression:"fixedLeftList"}},e._l(e.tempCheckList,function(t){return a("el-checkbox",{key:t,attrs:{disabled:e.fixedRightList.indexOf(t)>-1||-1===e.checkList.indexOf(t),label:t}})}),1),a("span",[e._v("选择固定在右侧的列:")]),a("el-checkbox-group",{staticClass:"m-20",model:{value:e.fixedRightList,callback:function(t){e.fixedRightList=t},expression:"fixedRightList"}},e._l(e.tempCheckList,function(t){return a("el-checkbox",{key:t,attrs:{disabled:e.fixedLeftList.indexOf(t)>-1||-1===e.checkList.indexOf(t),label:t}})}),1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,id:"out-table'"},on:{"row-dblclick":e.rowClick,"expand-change":e.expandChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"summary"},[a("img",{attrs:{src:t.row.cover_image_url,alt:""}}),a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"ID"}},[a("span",[e._v(e._s(t.row.id))])]),a("el-form-item",{attrs:{label:"文章标题"}},[a("span",[e._v(e._s(t.row.title))])]),a("el-form-item",{attrs:{label:"文章描述"}},[a("span",[e._v(e._s(t.row.article_describe))])]),a("el-form-item",{attrs:{label:"文章封面图"}},[a("span",[e._v(e._s(t.row.cover_image_url))])]),a("el-form-item",{attrs:{label:"头部背景图"}},[a("span",[e._v(e._s(t.row.head_bg_url))])]),a("el-form-item",{attrs:{label:"头部媒体url"}},[a("span",[e._v(e._s(t.row.head_media_url))])]),a("el-form-item",{attrs:{label:"头部媒体参数"}},[a("span",[e._v(e._s(t.row.head_media_param))])]),a("el-form-item",{attrs:{label:"文章内容"}},[a("span",[e._v(e._s(t.row.content))])]),a("el-form-item",{attrs:{label:"作者"}},[a("span",[e._v(e._s(t.row.author))])]),a("el-form-item",{attrs:{label:"关键词"}},[a("span",[e._v(e._s(t.row.keyword))])]),a("el-form-item",{attrs:{label:"点击量"}},[a("span",[e._v(e._s(t.row.hitcount))])]),a("el-form-item",{attrs:{label:"点赞量"}},[a("span",[e._v(e._s(t.row.likecount))])]),a("el-form-item",{attrs:{label:"评论量"}},[a("span",[e._v(e._s(t.row.commentcount))])]),a("el-form-item",{attrs:{label:"显示类型"}},[a("span",[e._v(e._s(t.row.show_type))])]),a("el-form-item",{attrs:{label:"创建时间"}},[a("span",[e._v(e._s(t.row.create_at))])]),a("el-form-item",{attrs:{label:"更新时间"}},[a("span",[e._v(e._s(t.row.update_at))])]),a("el-form-item",{attrs:{label:"删除时间"}},[a("span",[e._v(e._s(t.row.delete_at))])])],1)],1)]}}])}),e._l(e.filterTableColumn,function(t){return[t.noRepeat?e._e():a("el-table-column",{key:t.label,attrs:{id:"table-column",prop:t.prop,label:t.label,"show-overflow-tooltip":!0,fixed:!!t.fixed&&t.fixed,width:t.width?t.width:""}}),"ID"===t.label?a("el-table-column",{key:t.label,attrs:{label:"ID",prop:t.prop,sortable:"",fixed:!!t.fixed&&t.fixed,width:t.width?t.width:""}}):e._e()]}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:{auth:"更新文章",type:"disabled"},expression:"{ auth: '更新文章', type: 'disabled'}"}],attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                    ")]),t.row.delete_at?a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:{auth:"恢复文章",type:"disabled"},expression:"{ auth: '恢复文章', type: 'disabled'}"}],attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return e.handleRecover(t.row)}}},[e._v("恢复\n                    ")]):e._e(),a("el-button",{directives:[{name:"auth",rawName:"v-auth",value:{auth:"删除文章",type:"disabled"},expression:"{ auth: '删除文章', type: 'disabled'}"}],attrs:{type:"danger",size:"mini",plain:""},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n                    ")])]}}])})],2),e.page_meta?a("div",{staticClass:"pagination"},[e.refreshPagination?a("el-pagination",{attrs:{background:!0,"page-size":e.page_meta.per_page_count,"current-page":e.page_meta.current_page_index,layout:"prev, pager, next, jumper",total:e.page_meta.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1):e._e()],1),[a("div",[e.dialogFormVisible?a("div",{staticClass:"article-dialog-container",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleClose(t)}}},[a("div",{staticClass:"dialog-box"},[e.editorArticleDate&&e.public_Router?a("article-editor",{ref:"articleEditor",attrs:{id:"artilce-editor",articleDate:e.editorArticleDate,articleTypeDate:e.public_Router},on:{submitOnClick:e.submitArticleDate,resetOnClick:e.resetArticleDate}}):e._e(),a("div",{staticClass:"close-btn",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleClose(t)}}},[e._v("\n                        X\n                    ")])],1)]):e._e()])]],2)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-left"},[a("p",{staticClass:"title"},[e._v("文章列表")])])}],r=a("a34a"),l=a.n(r),c=a("8eab"),o=a("696f"),s=a("2f62"),u=a("4de2"),d=a("c2fa");function p(e){return m(e)||f(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function m(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function b(e,t,a,i,n,r,l){try{var c=e[r](l),o=c.value}catch(s){return void a(s)}c.done?t(o):Promise.resolve(o).then(i,n)}function v(e){return function(){var t=this,a=arguments;return new Promise(function(i,n){var r=e.apply(t,a);function l(e){b(r,i,n,l,c,"next",e)}function c(e){b(r,i,n,l,c,"throw",e)}l(void 0)})}}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach(function(t){g(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var x={components:{LinSearch:c["default"],ArticleEditor:d["default"]},data:function(){return{selectMainTypeIndex:1,selectChildTypeRouter:"",tableData:[],loading:!1,Hidden:!0,searchKeyword:"",checkList:[],filterTableColumn:[],refreshPagination:!0,page_meta:{current_page_index:1,per_page_count:12,total:0,total_page_count:0},dialogTableVisible:!1,fixedLeftList:[],fixedRightList:[],value:"",editRow:0,showTooltip:!0,dialogFormVisible:!1,editorArticleDate:null,editorArticleIndex:0,tableColumn:[{prop:"id",label:"ID",width:75,noRepeat:!0},{prop:"title",label:"文章标题",width:150},{prop:"article_describe",label:"文章描述",width:150},{prop:"cover_image_url",label:"封面图片",width:100},{prop:"head_bg_url",label:"头部背景",width:100},{prop:"head_media_url",label:"头部媒体",width:100},{prop:"head_media_param",label:"头部参数",width:100},{prop:"content",label:"文章内容",width:200},{prop:"author",label:"作者",width:50},{prop:"keywords",label:"关键词",width:60},{prop:"hitcount",label:"点击量",width:60},{prop:"likecount",label:"点赞",width:60},{prop:"commentcount",label:"点踩",width:60},{prop:"show_type",label:"显示类型",width:60},{prop:"create_at",label:"创建时间",width:85},{prop:"update_at",label:"更新时间",width:85},{prop:"delete_at",label:"删除时间",width:85}]}},computed:{public_Router:function(){return this.$store.state.public_Information?this.$store.state.public_Information.router_type:null}},created:function(){var e=this;this.checkPublicInformation(),this.tempCheckList=this.tableColumn.map(function(e){return e.label}).slice(),this.checkList=this.tableColumn.map(function(e){return e.label}),this.filterTableColumn=this.tableColumn.filter(function(t){return e.checkList.indexOf(t.label)>-1})},methods:y({_getTableData:function(){var e=v(l.a.mark(function e(){var t;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,o["default"].getArticles({main_type:this.public_Router[this.selectMainTypeIndex].router_name,child_type:this.selectChildTypeRouter,page:this.page_meta.current_page_index,keyword:this.searchKeyword});case 4:t=e.sent,t.page_meta&&(this.page_meta=t.page_meta),t.date.map(function(e){var t=e;return t.editFlag=!1,""}),this.tableData=p(t.date),this.loading=!1,e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](0),this.loading=!1,this.$message.error(e.t0.data.msg),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),rowClick:function(e){},handleChange:function(){var e=this;this.filterTableColumn=this.tableColumn.filter(function(t){return e.checkList.indexOf(t.label)>-1})},showRowOperateModal:function(){},expandChange:function(e,t){},handleCurrentChange:function(){var e=v(l.a.mark(function e(t){var a=this;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.page_meta.current_page_index=t,this.loading=!0,setTimeout(function(){a._getTableData()},1e3);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onQueryChange:function(e){this.searchKeyword=e.trim()},onSearchClick:function(){var e=v(l.a.mark(function e(){return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._getTableData();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},Object(s["b"])(["setPublicInformation"]),{checkPublicInformation:function(){var e=v(l.a.mark(function e(){var t;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.public_Router){e.next=17;break}return e.prev=1,this.loading=!0,e.next=5,u["default"].getPublicInformation();case 5:t=e.sent,this.setPublicInformation(t),this.loading=!1,this.selectMainTypeIndex=1,this.selectChildTypeRouter=this.public_Router[this.selectMainTypeIndex].navInfo[0].childNav[0].titleRouter,e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](1),this.loading=!1,this.$message.error(e.t0.data.msg),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,12]])}));function t(){return e.apply(this,arguments)}return t}(),handleEdit:function(e,t){t&&(this.editorArticleIndex=e,this.editorArticleDate=y({},t),this.dialogFormVisible=!0)},handleDelete:function(){var e=v(l.a.mark(function e(t){var a=this;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("此操作将删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(v(l.a.mark(function e(){var i,n,r;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.loading=!0,i=t.main_type,n=t.child_type,e.next=5,o["default"].deleteArticle(t.id,{main_type:i,child_type:n});case 5:r=e.sent,0===r.error_code&&(a.dialogFormVisible=!1,a.editorArticleDate=null,a.editorArticleIndex=0,a.$message.success("".concat(r.msg)),setTimeout(function(){a._getTableData()},1e3));case 7:case"end":return e.stop()}},e)}))).catch(function(e){a.dialogFormVisible=!1,a.editorArticleDate=null,a.editorArticleIndex=0,a.loading=!1,e.data&&e.data.msg&&a.$message.error(e.data.msg),console.log(e)});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleRecover:function(){var e=v(l.a.mark(function e(t){var a=this;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("此操作将恢复并在网页上显示该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(v(l.a.mark(function e(){var i,n,r,c;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.loading=!0,i=t.main_type,n=t.child_type,r=t.id,e.next=6,o["default"].recoverArticle({id:r,main_type:i,child_type:n});case 6:c=e.sent,0===c.error_code&&(a.$message.success("".concat(c.msg)),setTimeout(function(){a._getTableData()},1e3));case 8:case"end":return e.stop()}},e)}))).catch(function(e){a.loading=!1,e.data&&e.data.msg&&a.$message.error(e.data.msg),console.log(e)});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),changeArticleMainType:function(e){this.selectMainTypeIndex=e,this.public_Router[this.selectMainTypeIndex].navInfo[0].childNav?this.selectChildTypeRouter=this.public_Router[this.selectMainTypeIndex].navInfo[0].childNav[0].titleRouter:(this.selectChildTypeRouter=this.public_Router[this.selectMainTypeIndex].navInfo[0].titleRouter,this.page_meta.current_page_index=1)},changeArticleChildType:function(e){},handleClose:function(){this.dialogFormVisible=!1,this.editorArticleDate=null,this.editorArticleIndex=0},submitArticleDate:function(){var e=v(l.a.mark(function e(){var t,a=this;return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,this.handleTextContent(),this.editorArticleDate.oriMainType=this.tableData[this.editorArticleIndex].main_type,this.editorArticleDate.oriChildType=this.tableData[this.editorArticleIndex].child_type,e.next=7,o["default"].editArticle(this.editorArticleDate.id,this.editorArticleDate);case 7:t=e.sent,0===t.error_code&&(this.dialogFormVisible=!1,this.editorArticleDate=null,this.editorArticleIndex=0,this.$message.success("".concat(t.msg)),setTimeout(function(){a._getTableData()},1e3)),this.loading=!1,e.next=20;break;case 12:e.prev=12,e.t0=e["catch"](0),this.dialogFormVisible=!1,this.editorArticleDate=null,this.editorArticleIndex=0,this.loading=!1,this.$message.error(e.t0.data.msg),console.log(e.t0);case 20:case"end":return e.stop()}},e,this,[[0,12]])}));function t(){return e.apply(this,arguments)}return t}(),resetArticleDate:function(){var e=this.tableData[this.editorArticleIndex];this.editorArticleDate=y({},e),this.$refs.articleEditor.resetUI()},handleTextContent:function(){}}),watch:{fixedLeftList:function(){var e=this;this.filterTableColumn.map(function(t,a){return e.fixedLeftList.indexOf(t.label)>-1?e.$set(e.filterTableColumn[a],"fixed","left"):-1===e.fixedRightList.indexOf(t.label)&&e.$set(e.filterTableColumn[a],"fixed",!1),""})},fixedRightList:function(){var e=this;this.filterTableColumn.map(function(t,a){return e.fixedRightList.indexOf(t.label)>-1?e.$set(e.filterTableColumn[a],"fixed","right"):-1===e.fixedLeftList.indexOf(t.label)&&e.$set(e.filterTableColumn[a],"fixed",!1),""})},selectChildTypeRouter:function(){this.page_meta.current_page_index=1,this.public_Router&&this._getTableData()}}},w=x,k=(a("6d4a"),a("b0e7"),a("2877")),C=Object(k["a"])(w,i,n,!1,null,"1799d93c",null);t["default"]=C.exports}}]);