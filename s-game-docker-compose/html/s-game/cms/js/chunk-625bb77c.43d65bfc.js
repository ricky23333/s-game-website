(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-625bb77c","chunk-2d0cc813"],{"4de2":function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return p});var n=r("a34a"),o=r.n(n),a=r("dfd8");function i(t,e,r,n,o,a,i){try{var s=t[a](i),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,u,"next",t)}function u(t){i(a,n,o,s,u,"throw",t)}s(void 0)})}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(){function t(e){u(this,t),f(this,"router_type",null),this.router_type=e}return l(t,null,[{key:"getPublicInformation",value:function(){var e=s(o.a.mark(function e(){var r;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["get"])("public-information");case 2:return r=e.sent,r.router_type.forEach(function(t){if(t.navInfo=[],t.child_types){var e=t.child_types.split("*");e.forEach(function(e){var r={},n=e.split("|");if(1===n.length){var o=n[0].split("&");2===o.length&&(r.titleName=o[0],r.titleRouter=o[1])}else r.titleRouter=null,r.childNav=[],n.forEach(function(t){var e=t.split("&");1===e.length?r.titleName=e[0]:2===e.length&&r.childNav.push({titleName:e[0],titleRouter:e[1]})});t.navInfo.push(r)})}}),console.log("routerInfo",r.router_type),e.abrupt("return",new t(r.router_type));case 6:case"end":return e.stop()}},e)}));function r(){return e.apply(this,arguments)}return r}()}]),t}()},"6ba9":function(t,e,r){"use strict";var n=r("cabc"),o=r.n(n);o.a},cabc:function(t,e,r){},ede4:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login",style:t.bgImgStyle},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"form-box",attrs:{"element-loading-background":"rgba(0, 0, 0, 0)"}},[r("form",{staticClass:"login-form",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.throttleLogin()}}},[t._m(0),r("div",{staticClass:"form-item nickname"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],attrs:{type:"text",autocomplete:"off",placeholder:"请填写用户名",onfocus:"this.placeholder=''",onblur:"this.placeholder='请填写用户名'"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),r("div",{staticClass:"form-item password"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",autocomplete:"off",placeholder:"请填写密码",onfocus:"this.placeholder=''",onblur:"this.placeholder='请填写密码'"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),r("div",{attrs:{id:"checkbox-box"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.autoLogin,expression:"form.autoLogin"}],attrs:{id:"checkbox",type:"checkbox"},domProps:{checked:Array.isArray(t.form.autoLogin)?t._i(t.form.autoLogin,null)>-1:t.form.autoLogin},on:{change:function(e){var r=t.form.autoLogin,n=e.target,o=!!n.checked;if(Array.isArray(r)){var a=null,i=t._i(r,a);n.checked?i<0&&t.$set(t.form,"autoLogin",r.concat([a])):i>-1&&t.$set(t.form,"autoLogin",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.form,"autoLogin",o)}}}),r("span",[t._v("下次自动登录")])]),r("button",{staticClass:"submit-btn",attrs:{type:"submit"}},[t._v("登 录")])])])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title"},[r("h1",{attrs:{title:"stellarbug"}},[t._v("网站后台管理系统")])])}],a=r("a34a"),i=r.n(a),s=r("2f62"),u=r("9fd6"),c=r("4de2"),l=r("306b");function f(t,e,r,n,o,a,i){try{var s=t[a](i),u=s.value}catch(c){return void r(c)}s.done?e(u):Promise.resolve(u).then(n,o)}function p(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){f(a,n,o,i,s,"next",t)}function s(t){f(a,n,o,i,s,"throw",t)}i(void 0)})}}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(r,!0).forEach(function(e){d(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v={name:"login",data:function(){return{loading:!1,wait:2e3,throttleLogin:null,bgImgStyle:null,form:{username:"",password:"",confirm_password:"",autoLogin:!1}}},methods:h({autoLogin:function(){var t=p(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),login:function(){var t=p(i.a.mark(function t(){var e,r,n,o,a;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.form,r=e.username,n=e.password,o=e.autoLogin,t.prev=1,this.loading=!0,u["default"].saveUsernameAndPassword(r,n,o),t.next=6,u["default"].getToken(r,n);case 6:return t.next=8,this.getInformation();case 8:return t.next=10,c["default"].getPublicInformation();case 10:a=t.sent,this.setPublicInformation(a),this.loading=!1,this.$router.push("/about"),this.$message.success("登录成功"),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](1),this.loading=!1,console.log(t.t0);case 21:case"end":return t.stop()}},t,this,[[1,17]])}));function e(){return t.apply(this,arguments)}return e}(),getInformation:function(){var t=p(i.a.mark(function t(){var e;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["default"].getAuths();case 3:e=t.sent,this.setUserAndState(e),this.setUserAuths(e.auths),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),register:function(){var t=p(i.a.mark(function t(){var e;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={data:{username:this.username,password:this.password,confirm_password:this.confirm_password,email:this.email}},t.prev=1,t.next=4,u["default"].register(e);case 4:this.$message.success("注册成功！"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));function e(){return t.apply(this,arguments)}return e}()},Object(s["b"])(["setUserAndState"]),{},Object(s["b"])(["setPublicInformation"]),{},Object(s["d"])({setUserAuths:"SET_USER_AUTHS"})),created:function(){this.throttleLogin=l["default"].throttle(this.login,this.wait),this.bgImgStyle="background:url('./static/login/bg_"+Math.floor(10*Math.random()+1)+".jpg')";var t=u["default"].getUsernameAndPassword();t&&(this.form.username=t.username,this.form.password=t.password,this.form.autoLogin=!0)},components:{}},g=v,b=(r("6ba9"),r("2877")),w=Object(b["a"])(g,n,o,!1,null,null,null);e["default"]=w.exports}}]);