webpackJsonp([3],{Y3Rn:function(t,e){},gPKp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("lC5x"),n=a.n(r),i=a("J0Oq"),s=a.n(i),c=a("4YfN"),o=a.n(c),u=a("SJI6"),l=a("d3Pu"),h=a("spLH"),d={components:{ArticleBanner:l.a,Pagination:h.a},data:function(){return{perPageCount:3}},created:function(){this.handleOnStart()},mounted:function(){},watch:{$route:function(t,e){this.handleOnStart()},windowResizeFlag:function(){this.setPerPageCount()}},computed:o()({},Object(u.mapState)({searchHistory:function(t){return t.user.searchHistory},searchArticleList:function(t){return t.article.searchArticleList},searchArticlePagination:function(t){return t.article.searchArticlePagination},searchMediaList:function(t){return t.article.searchMediaList},searchMediaPagination:function(t){return t.article.searchMediaPagination},guestDate:function(t){return t.user.guestDate},windowResizeFlag:function(t){return t.user.windowResizeFlag}})),methods:o()({},Object(u.mapActions)({getArticleListDate:"article/searchArticle",clearSearchHistoryDate:"user/clearSearchHistoryDate",getSearchHistoryDate:"user/getSearchHistoryDate",setSearchHistoryDate:"user/setSearchHistoryDate",getGuestDate:"user/getUserDate"}),{handleOnStart:function(){var t=this;return s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.guestDate&&t.guestDate.router_type){e.next=3;break}return e.next=3,t.getGuestDate();case 3:t.getKeywordOnStart(),t.searchArticleOnStart(),t.getSearchHistoryDate(),t.setPerPageCount();case 7:case"end":return e.stop()}},e,t)}))()},searchArticleOnStart:function(){var t=this;return s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleSearchArticleList(1,t.perPageCount,"article",t.keyword);case 2:return e.sent,e.next=5,t.handleSearchArticleList(1,t.perPageCount,"media",t.keyword);case 5:e.sent;case 6:case"end":return e.stop()}},e,t)}))()},changeArticlePage:function(t){var e=this;return s()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.handleSearchArticleList(t,e.perPageCount,"article",e.keyword);case 2:a.sent;case 3:case"end":return a.stop()}},a,e)}))()},changeMediaPage:function(t){var e=this;return s()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.handleSearchArticleList(t,e.perPageCount,"media",e.keyword);case 2:a.sent;case 3:case"end":return a.stop()}},a,e)}))()},handleSearch:function(t){var e=this;return s()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setSearchHistoryDate(t);case 2:e.$router.push({path:"/search",query:{keyword:t}});case 3:case"end":return a.stop()}},a,e)}))()},handleSearchArticleList:function(t,e,a,r){var i=this;return s()(n.a.mark(function s(){var c,o;return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=-1,(o=i.$store.getters["user/mainRouterIndex"](a))>=0&&i.guestDate&&(c=i.guestDate.router_type[o].navInfo.findIndex(function(t){return t.titleName===r})),!(c>=0)){n.next=9;break}return n.next=6,i.getArticleListDate({main_type:a,child_type:i.guestDate.router_type[o].navInfo[c].titleRouter,perPageCount:e,page:t});case 6:return n.abrupt("return",n.sent);case 9:return n.next=11,i.getArticleListDate({main_type:a,keyword:r,perPageCount:e,page:t});case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}},s,i)}))()},clearSearch:function(){var t=this;return s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.clearSearchHistoryDate();case 2:return e.next=4,t.getSearchHistoryDate();case 4:case"end":return e.stop()}},e,t)}))()},toArticlePath:function(t){this.$router.push("/article/"+t)},getKeywordOnStart:function(){this.$route.query.keyword&&(this.keyword=this.$route.query.keyword)},setPerPageCount:function(){document.documentElement.clientWidth<1024?this.perPageCount=4:document.documentElement.clientWidth>1140?this.perPageCount=4:this.perPageCount=3}})},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main"},[a("div",{staticClass:"container"},[a("div",{staticClass:"content-box"},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"first-line"},[a("span",{staticClass:"title-text"},[t._v("搜索历史")]),t._v(" "),t.searchHistory?a("div",{staticClass:"item-box"},[t._l(t.searchHistory,function(e,r){return a("li",{key:r,staticClass:"item",on:{click:function(a){return a.stopPropagation(),t.handleSearch(e)}}},[t._v(t._s(e)+"\n            ")])}),t._v(" "),t.searchHistory.length>0?a("li",{staticClass:"item-option",on:{click:function(e){return e.stopPropagation(),t.clearSearch(e)}}},[t._v("清空历史")]):a("li",{staticClass:"item-option"},[t._v("暂无")])],2):t._e()]),t._v(" "),t.guestDate&&t.guestDate.router_type?a("div",{staticClass:"second-line"},[a("span",{staticClass:"title-text"},[t._v("分类搜索")]),t._v(" "),a("div",{staticClass:"item-box"},[t._l(t.guestDate.router_type[this.$store.getters["user/mainRouterIndex"]("article")].navInfo,function(e,r){return a("li",{key:"1-"+r,staticClass:"item",on:{click:function(a){return t.handleSearch(e.titleName)}}},[t._v(t._s(e.titleName)+"\n            ")])}),t._v(" "),t._l(t.guestDate.router_type[this.$store.getters["user/mainRouterIndex"]("media")].navInfo,function(e,r){return a("li",{key:"2-"+r,staticClass:"item",on:{click:function(a){return t.handleSearch(e.titleName)}}},[t._v(t._s(e.titleName)+"\n            ")])})],2)]):t._e()]),t._v(" "),a("div",{staticClass:"result-box"},[a("div",{staticClass:"article-box"},[a("div",{staticClass:"title-text"},[t._v("日志")]),t._v(" "),t.searchArticleList&&t.searchArticleList.length>0?a("div",{staticClass:"wrap"},t._l(t.searchArticleList,function(e,r){return a("li",{key:"3-"+r,staticClass:"item",on:{click:function(a){return t.toArticlePath(e.id)}}},[a("article-banner",{attrs:{articleDate:e,"current-main-type":"article"}})],1)}),0):a("ul",{staticClass:"empty"},[t._v("暂无文章")]),t._v(" "),t.searchArticlePagination&&t.searchArticlePagination.total_page_count>1?a("div",{staticClass:"page-container"},[a("Pagination",{attrs:{paginationDate:t.searchArticlePagination,layouts:"prev,pager,next"},on:{changePage:t.changeArticlePage}})],1):t._e()]),t._v(" "),a("div",{staticClass:"media-box"},[a("div",{staticClass:"title-text"},[t._v("媒体")]),t._v(" "),t.searchMediaList&&t.searchMediaList.length>0?a("div",{staticClass:"wrap"},t._l(t.searchMediaList,function(e,r){return a("li",{key:"4-"+r,staticClass:"item",on:{click:function(a){return t.toArticlePath(e.id)}}},[a("article-banner",{attrs:{articleDate:e,"current-main-type":"media"}})],1)}),0):a("ul",{staticClass:"empty"},[t._v("暂无文章")]),t._v(" "),t.searchMediaPagination&&t.searchMediaPagination.total_page_count>1?a("div",{staticClass:"page-container"},[a("Pagination",{attrs:{paginationDate:t.searchMediaPagination,layouts:"prev,pager,next"},on:{changePage:t.changeMediaPage}})],1):t._e()])])])])])},staticRenderFns:[]};var p=a("C7Lr")(d,g,!1,function(t){a("yeLk"),a("Y3Rn")},"data-v-de63160c",null);e.default=p.exports},yeLk:function(t,e){}});
//# sourceMappingURL=3.93cdf3a83d96d83ad20a.js.map